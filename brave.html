<html>

<head>
    <title>Brave Replace Character</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<body>
    <h1 class="text-center mt-3">Brave Replace</h1>
    <div class="ps-3 pe-3">
        <textarea class="w-100" id="source" rows="8" cols="50" placeholder="Place your character in here..."></textarea>
    </div>
    <div class="mt-3 text-center">
        <button type="button" class="btn btn-warning btn-lg btn-block w-25 ms-2 mb-2" onclick="eraseText();">Clear</button>
    </div>
    <div class="text-center">
        <button type="button" class="btn btn-secondary btn-lg btn-block w-25 ms-2" onclick="paste();">Paste</button>
        <button type="button" class="btn btn-success btn-lg btn-block w-25 ms-2" onclick="replace()">Replace</button>
        <button type="button" class="btn btn-primary btn-lg btn-block w-25 ms-2" onclick="copy();">Copy</button>
    </div>
    <hr/><hr/>
	<div class="text-center"><a href="../">Home</a> | <a href="../avalon.html">Avalon</a> | <a href="../ck.html">Confinement</a> | <a href="../wizard.html">Wizard</a> | <a href="../replace.html">Finishing</a></div>

    <script>
        async function paste() {
            var jsCopy = document.getElementById("source");
            var copyValue = await navigator.clipboard.readText();
            jsCopy.value = copyValue;
        }

        function copy() {
            var jsCopy = document.getElementById("source");
            jsCopy.select();
            jsCopy.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(jsCopy.value);
        }

        function eraseText() {
            document.getElementById("source").value = "";
        }

        function replace() {
            let jsCopy = document.getElementById("source");
            dictionary = {
		    "[!][ ][!]":"!!",
		    "[!][ ][?]":"!?",
		    "[?][ ][!]":"?!",
        "レヴィエナ":"Levienna",
        "ゼノン・バスカヴィル":"Zenon Baskerville",
        "ゼノン":"Zenon",
        "Zenon様":"Zenon-sama",
        "{ダンブレ２}":"[DunBrave 2]",
        "{ダンブレ}":"[DunBrave]",
        "スレイヤーズ王国":"Slayers Kingdom",
		    "王立剣魔学園":"Royal Swords and Magic Academy",
		    "ワンコ先生":"Wanko-sensei",
		    "ガロンドルフ":"Garondolf",
		    "ザイウス・オーレン":"Zaius Ooren",
		    "ザイウス":"Zaius",
		    "エアリス・セントレア":"Aeris Centorea",
		    "エアリス":"Aeris",
		    "セントレア":"Centorea",
		    "Baskerville様":"Baskerville-sama",
		    "ウルザ":"Urza",
		    "Urzaさん":"Urza-san",
		    "レスポルド":"Leybold",
		    "金棒":"Kanabō",
		    "ご主人様":"Goshujin-sama",
		    "お坊ちゃま":"Obocchama",
		    "Zenon坊ちゃま":"Zenon-bocchama",
		    "ダンブレ":"DunBrave"
            },
                string = jsCopy.value,
                totalDic = Object.keys(dictionary).length;
            for (let i = 0; i < totalDic; i++) {
                x = Object.keys(dictionary)[i];
                result = string.replace(new RegExp(x, "g"), Object.values(dictionary)[i]);
                string = result;
            }
            jsCopy.value = result;
            jsCopy.select();
            jsCopy.setSelectionRange(0, 99999);
        }
    </script>
</body>

</html>
