<html>

<head>
    <title>Ephemeral Replace Character</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<body>
    <h1 class="text-center mt-3">Ephemeral Replace</h1>
    <div class="ps-3 pe-3">
        <textarea class="w-100" id="source" rows="8" cols="50" placeholder="Place your character in here..."></textarea>
    </div>
    <div class="mt-3 text-center">
        <button type="button" class="btn btn-warning btn-lg btn-block w-25 ms-2 mb-2" onclick="eraseText();">Clear</button>
    </div>
    <div class="text-center">
        <button type="button" class="btn btn-secondary btn-lg btn-block w-25 ms-2" onclick="paste();">Paste</button>
        <button type="button" class="btn btn-success btn-lg btn-block w-25 ms-2" onclick="replace()">Replace</button>
        <button type="button" class="btn btn-primary btn-lg btn-block w-25 ms-2" onclick="copy();">Copy</button>
    </div>
    <hr/><hr/>
	<div class="text-center"><a href="../">Home</a> | <a href="../ck.html">Confinement</a> | <a href="../wizard.html">Wizard</a> | <a href="../replace.html">Finishing</a></div>

    <script>
        async function paste() {
            var jsCopy = document.getElementById("source");
            var copyValue = await navigator.clipboard.readText();
            jsCopy.value = copyValue;
        }

        function copy() {
            var jsCopy = document.getElementById("source");
            jsCopy.select();
            jsCopy.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(jsCopy.value);
        }

        function eraseText() {
            document.getElementById("source").value = "";
        }

        function replace() {
            let jsCopy = document.getElementById("source");
            dictionary = {
                "和泉知尋":"Izumi Chihiro",
                "和泉":"Izumi",
                "Izumiくん":"Izumi-kun",
                "Izumi君":"Izumi-kun",
                "知尋":"Chihiro",
		"Chihiro様":"Chihiro-sama",
                "Chihiroさん":"Chihiro-san",
                "Chihiroくん":"Chihiro-kun",
                "Chihiro君":"Chihiro-kun",
                "姉-san":"Nee-san",
                "母-san":"Kaa-san",
                "落とし物":"Lost Item",
                "柴鳳学園":"Shibahou Academy",
                "柴鳳":"Shibahou",
                "西崎李狐":"Nishizaki Riko",
                "西崎":"Nishizaki",
                "Nishizakiさん":"Nishizaki-san",
                "李狐":"Riko",
                "Rikoちゃん":"Riko-chan",
                "神代悠希":"Kamishiro Yuuki",
                "神代":"Kamishiro",
                "Kamishiro君":"Kamishiro-kun",
                "悠希":"Yuuki",
                "高槻愛華":"Takatsuki Aika",
                "高槻":"Takatsuki",
                "Takatsukiさん":"Takatsuki-san",
                "愛華":"Aika",
                "深海真里亜":"Fukami Maria",
                "深海":"Fukami",
                "Fukamiさん":"Fukami-san",
                "真里亜":"Maria",
                "Mariaちゃん":"Maria-chan",
                "Mariaさん":"Maria-san",
                "柴鶴学園":"Shibatsuru Academy",
                "報復":"Retaliation",
                "ご主人様":"Master",
                "睡眠効果の促進":"Acceleration of Sleep Effect",
                "御宿華":"Mishuku Hana",
                "御宿":"Mishuku",
                "Mishukuさん":"Mishuku-san",
                "華":"Hana",
                "Hanaさん":"Hana-san",
                "Hanaちゃん":"Hana-chan",
                "湯瀬朱香":"Yuse Shuka",
                "湯瀬":"Yuse",
                "朱香":"Shuka",
                "Yuseさん":"Yuse-san",
                "佐城加奈子":"Sashiro Kanako",
                "加奈子":"Kanako",
                "佐城":"Sashiro",
                "宇野玲奈":"Uno Reina",
                "宇野":"Uno",
                "玲奈":"Reina",
                "鈴":"Suzu",
                "Suzuさん":"Suzu-san",
                "ゆーちゃん":"Yuu-chan",
                "お姉さん":"onee-san",
                "小岩井則子":"Koiwai Noriko",
                "小岩井":"Koiwai",
                "則子":"Noriko",
                "鳳由司":"Ootori Yuuji",
                "鳳":"Principal Ootori",
                "由司":"Yuuji",
                "黒羽四葉":"Kurohane Yotsuba",
                "黒羽":"Kurohane",
                "四葉":"Yotsuba",
                "白峰沙雪":"Shiramine Sayuki",
                "白峰":"Shiramine",
                "沙雪":"Sayuki",
                "ルシル・オーウェル":"Lucille Orwell",
                "ルシル":"Lucille",
                "Lucille先輩":"Lucille-senpai",
                "ルー":"Lou",
                "葉月万里歌":"Hazuki Marika",
                "葉月":"Hazuki",
                "万里歌":"Marika",
                "Hazuki先輩":"Hazuki-senpai",
                "Marika先輩":"Marika-senpai",
                "綾瀬葵":"Ayase Aoi",
                "綾瀬":"Ayase",
                "葵":"Aoi",
                "御角ちさと":"Misumi Chisato",
                "ちさと":"Chisato",
		    "Chisatoちゃん":"Chisato-chan",
                "御角":"Misumi",
		"楓":"Kaede",
		"Kaedeさん":"Kaede-san",
		    "[!][ ][!]":"!!",
		    "[!][ ][?]":"!?",
		    "[?][ ][!]":"?!",
		    "指宿かなめちゃん":"Ibusuki Kaname-chan",
		    "指宿":"Ibusuki",
		    "Ibusukiさん":"Ibusuki-san",
		    "かなめ":"Kaname",
		    "Kanameさん":"Kaname-san",
		    "IbusukiKaname":"Ibusuki Kaname",
		    "深海灰人":"Fukami Kaito",
		    "灰人様":"Kaito-sama"
            },
                string = jsCopy.value,
                totalDic = Object.keys(dictionary).length;
            for (let i = 0; i < totalDic; i++) {
                x = Object.keys(dictionary)[i];
                result = string.replace(new RegExp(x, "g"), Object.values(dictionary)[i]);
                string = result;
            }
            jsCopy.value = result;
            jsCopy.select();
            jsCopy.setSelectionRange(0, 99999);
        }
    </script>
</body>

</html>
